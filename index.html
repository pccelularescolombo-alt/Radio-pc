<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Rádio Online</title>

<style>
*{box-sizing:border-box;}

body{
    margin:0;
    background:#111;
    color:white;
    font-family:Arial,Helvetica,sans-serif;
    display:flex;
    flex-direction:column;
    height:100vh;
}

/* BARRAS */
.bar{
    height:60px;
    background:linear-gradient(90deg,#007bff,#ff7a00);
    display:flex;
    align-items:center;
    padding:0 15px;
}
.top-bar{justify-content:space-between;}
.bottom-bar{justify-content:space-between;}

/* LOGO */
.logo{height:40px;}

/* CENTRO */
.center{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
}

/* CONTROLES */
.controls{
    display:flex;
    align-items:center;
    gap:10px;
}
.controls img{
    width:40px;
    height:40px;
    cursor:pointer;
    opacity:0.6;
    transition:.2s;
}
.controls img:hover{
    opacity:1;
    filter:drop-shadow(0 0 6px #00c3ff);
    transform:scale(1.08);
}

/* BARRA */
.track-bar{
    flex:1;
    margin-left:10px;
    background:#222;
    padding:8px 12px;
    border-radius:20px;
}

/* INFO */
.track-info{
    display:flex;
    justify-content:space-between;
    font-size:14px;
    margin-bottom:6px;
}

/* PROGRESSO */
.progress-container{
    position:relative;
    height:8px;
    background:#444;
    border-radius:5px;
    overflow:hidden;
}

.progress, .cat-progress{
    height:100%;
    width:0%;
    background:linear-gradient(90deg,#00c3ff,#ff7a00);
}

.dot, .cat-dot{
    position:absolute;
    top:50%;
    left:0%;
    width:14px;
    height:14px;
    background:white;
    border-radius:50%;
    transform:translate(-50%,-50%);
}

/* BLOCO DUPLO */
.dual-bars{
    display:flex;
    gap:15px;
}
.bar-block{
    flex:1;
}

/* LOGIN */
#loginBox{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:#222;
    padding:20px;
    border-radius:10px;
    display:none;
    flex-direction:column;
    gap:10px;
    z-index:1000;
}

/* CATEGORIAS */
#categoryPanel{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    background:#222;
    padding:20px;
    border-radius:12px;
    display:none;
    flex-direction:column;
    gap:12px;
    width:90%;
    max-width:420px;
    z-index:999;
}
#categoryPanel button{
    padding:12px;
    background:#ff7a00;
    border:none;
    border-radius:8px;
    color:white;
    cursor:pointer;
}
</style>
</head>

<body>

<!-- CATEGORIAS -->
<div id="categoryPanel">
    <h2>Categoria</h2>
    <button onclick="startCategoryRandom();closeCategories()">▶ Tocar Aleatório</button>
    <button onclick="closeCategories()">❌ Fechar</button>
</div>

<!-- TOPO -->
<div class="bar top-bar">
    <img src="logo/logo.png" class="logo">
    <img id="loginBtn" src="icon/login.png" class="logo" onclick="openLogin()">
</div>

<!-- CENTRO -->
<div class="center">
    <h1>Rádio Online</h1>
    <p>Pinheirinho Celulares</p>
</div>

<!-- CONTROLES -->
<div class="bar bottom-bar">

<div class="controls">
    <img id="playBtn" src="icon/play.png" onclick="togglePlay()">
    <img id="muteBtn" src="icon/volume_mute.png" onclick="muteMusic()">
    <img src="icon/volume_menos.png" onclick="volumeDown()">
    <img src="icon/volume_mais.png" onclick="volumeUp()">
    <img id="catBtn" src="icon/categoria.png" onclick="changeCategory()" style="display:none;">
    <img id="nextBtn" src="icon/next_musica.png" onclick="nextMusic()" style="display:none;">
</div>

<div class="track-bar dual-bars">

<div class="bar-block">
    <div class="track-info">
        <span id="trackName">Nenhuma música</span>
        <span id="trackTime">00:00 / 00:00</span>
    </div>
    <div class="progress-container">
        <div class="progress"></div>
        <div class="dot"></div>
    </div>
</div>

<div class="bar-block">
    <div class="track-info">
        <span>Categoria: <b id="catName">---</b></span>
        <span id="catCounter">0 / 0 músicas</span>
    </div>
    <div class="progress-container">
        <div class="cat-progress"></div>
        <div class="cat-dot"></div>
    </div>
</div>

</div>
</div>

<!-- LOGIN -->
<div id="loginBox">
    <input id="user" placeholder="Login">
    <input id="pass" type="password" placeholder="Senha">
    <button onclick="login()">Entrar</button>
</div>

<audio id="player"></audio>

<script>
/* ===== VARIÁVEIS ===== */
let hasStarted=false,isPlayingPromo=false;
let currentCategory="",playedSongs=[],musicCounter=0;

/* ===== ELEMENTOS ===== */
const player=document.getElementById("player");
const trackName=document.getElementById("trackName");
const trackTime=document.getElementById("trackTime");
const catName=document.getElementById("catName");
const catCounter=document.getElementById("catCounter");
const progress=document.querySelector(".progress");
const dot=document.querySelector(".dot");
const catProgress=document.querySelector(".cat-progress");
const catDot=document.querySelector(".cat-dot");

/* ===== MÚSICAS ===== */
/* COMPLETE MANUALMENTE */
const musicas = {
    eletronica: [
        "Amine_Edge_DANCE_Lost.mp3",
        "Artemas_I_like_the_way_you_kiss_me.mp3",
        "Azari_III_Hungry_for_the_power.mp3",
        "Calvin_Harris_Sam_Smith_Promises.mp3",
        "Calvin_Harris_Thinking_About_You_ft_Ayah_Marar.mp3",
        "Duke_Dumont_Ocean_Drive.mp3",
        "Ed_Sheeran_Bad_Habits.mp3",
        "Empire_of_the_Sun_We_Are_The_People.mp3",
        "Gorgon_City_Imagination_ft_Katy_Menditta.mp3",
        "I_Follow_Rivers_Lykke_Li.mp3",
        "James_Hype_7_Seconds_ft_Shamira_Battles.mp3",
        "James_Hype_Drums_feat_Kim_Petra.mp3",
        "James_Hype_Miggy_Dela_Rosa_Ferrari.mp3",
        "Kendrick_Lamar_SZA_All_The_Stars.mp3",
        "MEDUZA_Becky_Hill_Goodboys_Lose_Control.mp3",
        "MEDUZA_Tell_It_To_My_Heart_ft_Hozier.mp3",
        "Maverick_Sabre_Slow_Down_Ft_Jorja_Smith_Vintage_Culture.mp3",
        "Mr_Probz_Waves.mp3",
        "Purple_Disco_Machine_Kungs_Substitution_ft_Julian_Perretta.mp3",
        "Sam_Smith_Unholy_ft_Kim_Petras.mp3",
        "Tame_Impala_The_Less_I_Know_The_Better.mp3",
        "The_Black_Eyed_Peas_Meet_Me_Halfway.mp3",
        "Tiesto_The_Business.mp3",
        "Zerb_The_Chainsmokers_Addicted_ft_Ink.mp3",
    ],
    sertanejo:[
        "Felipe_Rodrigo_Gosta_de_Rua.mp3",
        "Gusttavo_Lima_Bloqueado.mp3",
        "Henrique_e_Juliano_Flor_E_O_Beija_Flor_part_Marília_Mendonça.mp3",
        "Henrique_e_Juliano_VIDINHA_DE_BALADA.mp3",
        "Henrique_e_Juliano_VOLTA_POR_BAIXO.mp3",
        "Hugo_e_Guilherme_Marília_Mendonça_Mal_Feito.mp3",
        "Jorge_Mateus_CHEIROSA.mp3",
        "Lauana_Prado_Saudade_Burra_feat_Simone_Mendes.mp3",
        "Lençol_Dobrado_João_Gustavo_e_Murilo.mp3",
        "Luiza_e_Maurílio_S_de_Saudade_part_Zé_Neto_e_Cristiano.mp3",
        "Maiara__Maraisa_Medo_Bobo.mp3",
        "Marília_Mendonça_BEBI_LIGUEI.mp3",
        "Marília_Mendonça_CIUMEIRA.mp3",
        "Marília_Mendonça_Eu_Sei_De_Cor.mp3",
        "Marília_Mendonça_INTENÇÃO_feat_Gaab.mp3",
        "Marília_Mendonça_Leão.mp3",
        "Marília_Mendonça_TODO_MUNDO_VAI_SOFRER.mp3",
        "Matheus_Kauan_Decide_Aí.mp3",
        "Matheus_Kauan_O_Nosso_Santo_Bateu.mp3",
        "Melhor_eu_ir_Ligando_os_Fatos.mp3",
        "Os_Barões_da_Pisadinha_Esquema_Preferido.mp3",
        "Simone_Mendes_DOIS_TRISTES.mp3",
        "Simone_Mendes_Daqui_Pra_Sempre.mp3",
        "Simone_Mendes_Saudade_Proibida.mp3",
        "Tayrone_Cê_Tá_Preparada_ft_Marília_Mendonça.mp3",
        "Tudo_Que_Você_Quiser_Luan_Santana.mp3",
        "Zé Neto_Cristiano_Barulho_do_Foguete.mp3",
        "Zé Neto_Cristiano_LARGADO_ÀS_TRAÇAS.mp3",
        "Zé Neto_Cristiano_STATUS _QUE_EU_NÃO_QUERIA.mp3",
    ],
    pop:[
        "promo1.mp3","promo2.mp3"
    ],
    anos_2000:[
        "promo1.mp3","promo2.mp3"
    ],
    anos_80:[
        "promo1.mp3","promo2.mp3"
    ],
    pagode:[
        "promo1.mp3","promo2.mp3"
    ],
    divulgacao:[
        "promo1.mp3","promo2.mp3"
    ]
};

/* ===== PLAYER ===== */
function togglePlay(){
    if(!hasStarted){hasStarted=true;startCategoryRandom();return;}
    player.paused?player.play():player.pause();
}

function playMusic(cat,song){
    player.src=`musicas/${cat}/${song}`;
    player.play();
    trackName.innerText=song.replace(/_/g," ");
    isPlayingPromo=(cat==="divulgacao");
}

/* ===== CATEGORIA ===== */
function startCategoryRandom(){
    const cats=Object.keys(musicas).filter(c=>c!=="divulgacao"&&musicas[c].length);
    currentCategory=cats[Math.floor(Math.random()*cats.length)];
    playedSongs=[];
    musicCounter=0;
    catName.innerText=currentCategory.toUpperCase();
    playRandom();
}

function playRandom(){
    if(playedSongs.length===musicas[currentCategory].length){
        startCategoryRandom();return;
    }
    let song;
    do{
        song=musicas[currentCategory][Math.floor(Math.random()*musicas[currentCategory].length)];
    }while(playedSongs.includes(song));
    playedSongs.push(song);
    playMusic(currentCategory,song);
}

/* ===== EVENTOS ===== */
player.addEventListener("ended",()=>{
    if(isPlayingPromo){isPlayingPromo=false;playRandom();}
    else{
        musicCounter++;
        if(musicCounter%5===0&&musicas.divulgacao.length){
            playMusic("divulgacao",musicas.divulgacao[Math.floor(Math.random()*musicas.divulgacao.length)]);
        }else playRandom();
    }
});

player.addEventListener("timeupdate",()=>{
    if(!player.duration)return;
    const p=(player.currentTime/player.duration)*100;
    progress.style.width=p+"%";
    dot.style.left=p+"%";
    trackTime.innerText=
        format(player.currentTime)+" / "+format(player.duration);
    catCounter.innerText=`${playedSongs.length} / ${musicas[currentCategory].length} músicas`;
    const cp=(playedSongs.length/musicas[currentCategory].length)*100;
    catProgress.style.width=cp+"%";
    catDot.style.left=cp+"%";
});

function format(t){
    const m=Math.floor(t/60).toString().padStart(2,"0");
    const s=Math.floor(t%60).toString().padStart(2,"0");
    return `${m}:${s}`;
}

/* ===== UI ===== */
function muteMusic(){player.muted=!player.muted;}
function volumeUp(){player.volume=Math.min(1,player.volume+.1);}
function volumeDown(){player.volume=Math.max(0,player.volume-.1);}
function changeCategory(){document.getElementById("categoryPanel").style.display="flex";}
function closeCategories(){document.getElementById("categoryPanel").style.display="none";}
function openLogin(){document.getElementById("loginBox").style.display="flex";}
function login(){
    if(user.value==="admin" && pass.value==="1234"){
        document.getElementById("catBtn").style.display="block";
        document.getElementById("nextBtn").style.display="block";
        document.getElementById("loginBox").style.display="none";
    }
}

function logout(){
    document.getElementById("catBtn").style.display="none";
    document.getElementById("nextBtn").style.display="none";
}

function nextMusic(){
    player.dispatchEvent(new Event("ended"));
}

</script>

</body>
</html>
